{"version":3,"sources":["components/FilterPersons.js","components/FormPersons.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["FilterPersons","onChange","id","AddFields","description","value","FormPersons","props","console","log","onSubmit","className","onChangeName","name","onChangeNumber","number","type","Display","handleDeletePerson","onClick","Persons","findPersons","persons","arrayPersons","noPerson","length","map","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notifications","classCss","notification","App","useState","setPersons","setFindPersons","newName","setNewName","newNumber","setNewNumber","setNotification","setClassCss","handleTimeout","setTimeout","useEffect","personService","returnedPerson","event","target","filter","toLowerCase","indexOf","filtered","preventDefault","personObject","date","Date","toISOString","find","window","confirm","person","catch","error","alert","concat","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.eb703987.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst FilterPersons = ({ onChange }) => <div>filter shown with &nbsp;<input id=\"filter\" onChange={onChange} /></div>\r\n\r\n\r\nexport default FilterPersons","import React from 'react'\r\n\r\nconst AddFields = ({ description, onChange, value }) => \r\n    <div>{description}: <input onChange={onChange} value={value} /></div>\r\n\r\nconst FormPersons = (props) =>{\r\n    console.log('Form persons comp:', props);\r\n    return(\r\n        <form onSubmit={props.onSubmit} className=\"form\" >\r\n            <AddFields description=\"name\" onChange={props.onChangeName} value={props.name} />\r\n            <AddFields description=\"phone number\" onChange={props.onChangeNumber} value={props.number} />              \r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )        \r\n}\r\n\r\nexport default FormPersons","import React from 'react'\r\n\r\nconst Display = ({ id, name, number, handleDeletePerson }) => \r\n    <div className='person' >\r\n        {name} {number} &nbsp;\r\n        <button onClick={() => handleDeletePerson(id)}> delete </button>\r\n    </div>\r\n    \r\nconst Persons = ({ findPersons, persons, handleDeletePerson }) => {\r\n    console.log('persons comp', findPersons, persons);\r\n    let arrayPersons = [];\r\n    let noPerson = ''\r\n\r\n    !findPersons ?\r\n        arrayPersons = persons\r\n    :\r\n    findPersons.length > 0 ?\r\n        arrayPersons = findPersons\r\n    :\r\n        noPerson = `No this person is not on the list`;\r\n\r\n    return(\r\n        <>\r\n            {arrayPersons.map(value => <Display \r\n                                        key={value.id} \r\n                                        id={value.id} \r\n                                        name={value.name} \r\n                                        number={value.number} \r\n                                        handleDeletePerson={handleDeletePerson}    \r\n                                    />)} \r\n            {noPerson}\r\n        </>\r\n    )    \r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data);\r\n}\r\n\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react';\nimport FilterPersons from './components/FilterPersons';\nimport FormPersons from './components/FormPersons';\nimport Persons from './components/Persons';\nimport personService from './services/phonebook';\nimport './index.css'\n\nconst Notifications = ({ classCss, notification }) => {\n  return(\n    <div className={classCss} >{notification}</div>\n  )  \n}\n\nconst App = () => {  \n  \n  const [ persons, setPersons ] = useState([])\n  const [ findPersons, setFindPersons ] = useState()\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')  \n  const [ notification, setNotification]  = useState('')\n  const [ classCss, setClassCss ] = useState('')\n\n  const handleChangeName = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value)\n  }\n  const handleChangeNumber = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilter = (event) => {        \n    const filtered = (value) => (value.toLowerCase().indexOf(event.target.value.toLowerCase())) !== -1;            \n    (!event.target.value) ?\n      setFindPersons() :\n      setFindPersons(persons.filter(value => filtered(value.name)));\n  }\n\n  const handleTimeout = () => {\n    setTimeout(() => {\n      setNotification(null)\n      setClassCss(null)\n    }, 5000)\n  }\n\n  const handleAddPersons = (event) => {\n    event.preventDefault()\n    const personObject = {      \n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString()      \n    }    \n\n    if(!(newNumber && newName)) {\n      window.alert('Either name or number cannot be blank')\n    } else {\n      console.log(newName)\n      if (persons.find(value =>  value.name === newName)) {\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {          \n          personService \n            .update(persons.filter(value => value.name === newName).map(value => value.id), personObject)\n            .then(returnedPerson => {              \n              setPersons(persons.map(person => person.name !== newName ? person: returnedPerson, 'person'));\n              setNotification(\n                `${newName} phone was updated to ${newNumber}.`\n              )\n              setClassCss('notification success')\n              handleTimeout()\n            })\n            .catch(error => {\n              setPersons(persons.filter(value => value.name !== newName))\n              setNotification(\n                `Information of ${newName} has already been removed from server`\n              )\n              setClassCss('notification error')\n              handleTimeout()\n            }) \n        }\n      }else if (persons.find(value => value.number === newNumber)) {\n        window.alert(`the number ${newNumber} is already added to phonebook`)\n      }else{          \n          personService\n            .create(personObject)\n            .then(returnedPerson => {\n              setPersons(persons.concat(returnedPerson));\n              setNotification(\n                `${returnedPerson.name} was added to the contact list` \n              )\n              setClassCss('notification success')   \n              handleTimeout()           \n            })\n            .catch(error => {\n              setNotification(\n                'We could not contact the server, please try again later.'\n              )\n              setClassCss('notification error')  \n              handleTimeout()\n            }) \n                       \n      };\n    }             \n    setNewName('');\n    setNewNumber('');\n  }\n\n  const handleDeletePerson = (id) => {\n    if(window.confirm(`Do you want to delete ${persons.filter(value => value.id === id).map(value => value.name)}`)) {\n      personService\n        .deletePerson(id)\n        .then(returnedPerson => {\n          setPersons(persons.filter(value => value.id !== id))\n          setNotification(\n            `${persons.filter(value => value.id === id).map(value => value.name)} was removed from the server.`\n          )\n          setClassCss('notification success')\n          handleTimeout()\n        })\n        .catch(error => {\n          setPersons(persons.filter(value => value.id !== id))\n          setNotification(\n            `${persons.filter(value => value.id === id).map(value => value.name)} was already removed from the server.`\n          )\n          setClassCss('notification error')\n          handleTimeout()\n        })\n        document.getElementById('filter').value = '';\n        setFindPersons();\n    }          \n  }\n\n  useEffect(() => {   \n    personService\n      .getAll()\n      .then(returnedPerson => {\n        setPersons(returnedPerson)\n      })        \n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notifications classCss={classCss} notification={notification} />\n      <FilterPersons onChange={handleNameFilter}/>\n      <h2>Add a new</h2>\n      <FormPersons \n        onSubmit={handleAddPersons} onChangeName={handleChangeName} name={newName} \n        onChangeNumber={handleChangeNumber} number={newNumber} \n      />      \n      <h2>Numbers</h2>      \n      <Persons findPersons={findPersons} persons={persons} handleDeletePerson={handleDeletePerson} />          \n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(  \n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}